---
import DocLayout from '../components/DocLayout.astro'
import PageHeader from '../components/PageHeader.astro'
import SectionHeading from '../components/SectionHeading.astro'
import CodeBlock from '../components/CodeBlock.astro'
import PackageCard from '../components/PackageCard.astro'

const packages = [
	{
		name: 'Components',
		slug: 'components',
		description: 'Form and Image components with progressive enhancement and Cloudflare transforms.',
		icon: '{}',
		badge: '2 ready',
	},
	{
		name: 'CMS',
		slug: 'cms',
		description: 'Inline visual editing with HTML marking, media uploads, and SEO tracking.',
		icon: '///',
	},
	{
		name: 'LLM Enhancements',
		slug: 'llm-enhancements',
		description: 'Expose every page as .md, generate llms.txt, and publish LLM discovery endpoints.',
		icon: '.md',
	},
	{
		name: 'Agent Summary',
		slug: 'agent-summary',
		description: 'Auto-generate AGENTS.md with page metadata for AI coding agents.',
		icon: 'AI',
	},
	{
		name: 'Nua',
		slug: 'nua',
		description: 'The meta-integration — one import, everything enabled.',
		icon: 'N',
		badge: 'Core',
		badgeClass: 'border-emerald-400/30 bg-emerald-500/10 text-emerald-200',
	},
	{
		name: 'CLI',
		slug: 'cli',
		description: 'Build, dev, and preview with automatic agent-summary injection.',
		icon: '>_',
	},
]
---

<DocLayout title="Nua Playground" description="A living showcase of the Nua ecosystem — components, CMS, LLM enhancements, and more.">
	<PageHeader
		badge="Playground"
		title="The Nua Ecosystem."
		description="A living showcase of composable Astro integrations for CMS editing, LLM accessibility, agent summaries, and UI components — all bundled into a single defineConfig() call."
	>
		<div class="flex flex-wrap items-center gap-4 text-sm text-slate-400">
			<div class="flex items-center gap-2">
				<span class="flex h-2 w-2 rounded-full bg-emerald-400"></span>
				<span>This playground is a demo — AGENTS.md, .md endpoints, and CMS markers are all active.</span>
			</div>
		</div>
	</PageHeader>

	<div class="mx-auto max-w-6xl space-y-16 px-6 py-16">

		<section class="space-y-8">
			<SectionHeading
				title="Architecture"
				description="One config function wires everything together."
				id="architecture"
			/>
			<div class="rounded-2xl border border-slate-800 bg-slate-900/60 p-8 overflow-x-auto">
				<div class="flex flex-col items-center gap-6 text-sm min-w-[500px]">
					<div class="rounded-xl border border-indigo-500/40 bg-indigo-500/10 px-6 py-3 text-center">
						<p class="font-semibold text-indigo-200">defineConfig()</p>
						<p class="text-xs text-indigo-300/70">@nuasite/nua/config</p>
					</div>
					<div class="h-8 w-px bg-slate-700"></div>
					<div class="grid w-full grid-cols-2 gap-3 lg:grid-cols-5">
						{[
							{ label: 'CMS', sub: 'Visual editing' },
							{ label: 'LLM', sub: '.md endpoints' },
							{ label: 'MDX', sub: 'Content authoring' },
							{ label: 'Sitemap', sub: 'Auto-generation' },
							{ label: 'Tailwind', sub: 'CSS v4' },
						].map(({ label, sub }) => (
							<div class="rounded-lg border border-slate-700 bg-slate-950/60 px-4 py-3 text-center">
								<p class="font-medium text-slate-200">{label}</p>
								<p class="text-xs text-slate-500">{sub}</p>
							</div>
						))}
					</div>
					<div class="h-8 w-px bg-slate-700"></div>
					<div class="grid w-full grid-cols-2 gap-3 lg:grid-cols-3">
						{[
							{ label: 'nua build', sub: 'CLI with auto-injection' },
							{ label: 'AGENTS.md', sub: 'Agent summary output' },
							{ label: 'cms-manifest.json', sub: 'CMS output' },
						].map(({ label, sub }) => (
							<div class="rounded-lg border border-slate-700 bg-slate-950/60 px-4 py-3 text-center">
								<p class="font-medium text-slate-200">{label}</p>
								<p class="text-xs text-slate-500">{sub}</p>
							</div>
						))}
					</div>
				</div>
			</div>
		</section>

		<section class="space-y-8">
			<SectionHeading
				title="Packages"
				description="Explore each package's documentation, live demos, and configuration reference."
				id="packages"
			/>
			<div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
				{packages.map((pkg) => (
					<PackageCard {...pkg} />
				))}
			</div>
		</section>

		<section class="space-y-8">
			<SectionHeading
				title="Quick start"
				description="Get the entire ecosystem running in two lines."
				id="quick-start"
			/>
			<CodeBlock
				filename="Terminal"
				lang="bash"
				code={`npm install @nuasite/nua`}
			/>
			<CodeBlock
				filename="astro.config.ts"
				code={`import { defineConfig } from '@nuasite/nua/config'

export default defineConfig()`}
			/>
			<p class="text-sm text-slate-400">
				That's it. CMS, LLM enhancements, MDX, sitemap, and Tailwind CSS are all enabled by default.
				Check the <a href="/nua/" class="text-indigo-300 underline underline-offset-2 hover:text-indigo-200">Nua docs</a> for configuration options.
			</p>
		</section>

	</div>
</DocLayout>
